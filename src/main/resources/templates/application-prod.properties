# ===============================
# PRODUCTION CONFIGURATION
# ===============================
# Use this file for production deployment
# Activate with: --spring.profiles.active=prod

# ===============================
# ENVIRONMENT CONFIGURATION
# ===============================
app.environment=production
# Replace with your actual domain (without www or subdomains)
app.domain=yourdomain.com

# ===============================
# SERVER CONFIGURATION
# ===============================
server.port=8080
# Enable HTTPS in production
server.ssl.enabled=false
# If using SSL, configure these:
# server.ssl.key-store=classpath:keystore.p12
# server.ssl.key-store-password=yourpassword
# server.ssl.key-store-type=PKCS12

# ===============================
# DATABASE CONFIGURATION (Production)
# ===============================
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:multitenant_db}?useSSL=true&serverTimezone=UTC
spring.datasource.username=${DB_USERNAME:root}
spring.datasource.password=${DB_PASSWORD:root}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Production JPA settings
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.properties.hibernate.format_sql=false

# Connection pool settings for production
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000

# ===============================
# THYMELEAF CONFIGURATION
# ===============================
spring.thymeleaf.cache=true

# ===============================
# LOGGING (Production)
# ===============================
logging.level.root=WARN
logging.level.com.example.darkknight=INFO
logging.level.org.springframework.security=WARN

# Log to file in production
logging.file.name=/var/log/darkknight/application.log
logging.file.max-size=10MB
logging.file.max-history=30

# ===============================
# BASE URL CONFIGURATION
# ===============================
# Use HTTPS in production
app.base.url=https://${app.domain}

# ===============================
# MINI ORANGE JWT SSO (Production)
# ===============================
miniorange.login.url=https://monil.xecurify.com/moas/idp/jwtsso/379433
miniorange.client.id=${MINIORANGE_JWT_CLIENT_ID:FIYeJn5qSGLwJpwU9jidDui2t5AuSMZT}
miniorange.client.secret=${MINIORANGE_JWT_CLIENT_SECRET:bYH15MsLBNlbrwTy4FnGls1utUvaP4w9}
miniorange.redirect.uri=${app.base.url}/jwt/callback

# ===============================
# MINI ORANGE OAUTH CONFIG (Production)
# ===============================
miniorange.oauth.client.id=${MINIORANGE_OAUTH_CLIENT_ID:vLtNBVVbmg6vMUBmsCplfACU0TOuyfIj}
miniorange.oauth.client.secret=${MINIORANGE_OAUTH_CLIENT_SECRET:yPjVk78KeqvYpPc9vBwcLYjFBhgBgwTV}
miniorange.oauth.redirect.uri=${app.base.url}/oauth/callback
miniorange.oauth.authorization.url=https://monil.xecurify.com/moas/idp/openidsso
miniorange.oauth.token.url=https://monil.xecurify.com/moas/rest/oauth/token
miniorange.oauth.userinfo.url=https://monil.xecurify.com/moas/rest/oauth/getuserinfo

# ===============================
# SAML CONFIGURATION (Production)
# ===============================
saml.enabled=true
saml.idp.login-url=https://monil.xecurify.com/moas/idp/samlsso
saml.sp.entity-id=${app.base.url}
saml.sp.acs-url=${app.base.url}/sso/saml/callback
saml.sp.binding=urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST
saml.sp.nameid-format=urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress
saml.certificate.path=classpath:Custom_SAML_App.cer

# ===============================
# SECURITY SETTINGS
# ===============================
# Session timeout (30 minutes)
server.servlet.session.timeout=30m
# Secure cookies in production
server.servlet.session.cookie.secure=true
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.same-site=lax